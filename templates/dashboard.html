{% extends 'base_dashboard.html' %}
{% load static %}

{% block content%}

<div class="col-md-9 ms-sm-auto col-lg-10 px-md-4 py-4" id="dashboard">
    <!-- MAIN DASHBOARD -->
    <div id="display_dashboard">
        <!-- <h1 class="display-4">DASHBOARD</h1> -->
        <p class="h1">Dashboard</p>
        <script>
            window.onload = function () {

                var chart = new CanvasJS.Chart("chartContainer", {
                    exportEnabled: true,
                    animationEnabled: true,
                    title: {
                        text: "Total Cylinder Count "
                    },

                    axisX: {
                        title: "States"
                    },
                    axisY: {
                        title: "Active Cylinders - Units",
                        titleFontColor: "#4F81BC",
                        lineColor: "#4F81BC",
                        labelFontColor: "#4F81BC",
                        tickColor: "#4F81BC",
                        includeZero: true
                    },
                    axisY2: {
                        title: "Deffective Cylinders - Units",
                        titleFontColor: "#C0504E",
                        lineColor: "#C0504E",
                        labelFontColor: "#C0504E",
                        tickColor: "#C0504E",
                        includeZero: true
                    },
                    toolTip: {
                        shared: true
                    },
                    legend: {
                        cursor: "pointer",
                        itemclick: toggleDataSeries
                    },
                    data: [{
                        type: "column",
                        name: "Active Cylinder",
                        showInLegend: true,
                        yValueFormatString: "#,##0.# Units",
                        dataPoints: [
                            { label: "Maharashtra", y: 19034 },
                            { label: "Karnataka", y: 20015 },
                            { label: "Gujrat", y: 25342 },
                            { label: "Telangana", y: 20088 },
                            { label: "Uttar Pradesh", y: 28234 }
                        ]
                    },
                    {
                        type: "column",
                        name: "Deffective Cylinder",
                        axisYType: "secondary",
                        showInLegend: true,
                        yValueFormatString: "#,##0.# Units",
                        dataPoints: [
                            { label: "Maharashtra", y: 210 },
                            { label: "Karnataka", y: 135 },
                            { label: "Gujrat", y: 425 },
                            { label: "Telangana", y: 130 },
                            { label: "Uttar Pradesh", y: 528 }
                        ]
                    }]
                });
                chart.render();

                function toggleDataSeries(e) {
                    if (typeof (e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                        e.dataSeries.visible = false;
                    } else {
                        e.dataSeries.visible = true;
                    }
                    e.chart.render();
                }

            }
        </script>

        <div id="chartContainer" style="height: 300px; width: 100%;"></div>
        <script src="https://cdn.canvasjs.com/canvasjs.min.js"></script>
    </div>




    <!-- Agency REPORT -->

    {% endblock %}